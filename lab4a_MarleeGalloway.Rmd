---
title: "Lab4A"
author: "Marlee_Galloway"
date: "9/14/2020"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
```

###Plotting with ggplot2

#ggplot(data = <DATA>, mapping = aes(<MAPPINGS>)) +  <GEOM_FUNCTION>()

##Bind the plot to a specific data frame:

```{r}
ggplot(data = surveys_complete)
```

##Define aesthetic map:

```{r}
ggplot(data = surveys_complete, mapping = aes(x = weight, y = hindfoot_length))
```

##To add a geom use +

```{r}
ggplot(data = surveys_complete, aes(x = weight, y = hindfoot_length)) +
  geom_point()
```

##Can also be done as:

```{r}
# Assign plot to a variable
surveys_plot <- ggplot(data = surveys_complete, 
                       mapping = aes(x = weight, y = hindfoot_length))

# Draw the plot
surveys_plot + 
    geom_point()
```

```{r}
# This is the correct syntax for adding layers
surveys_plot +
  geom_point()

# This will not add the new layer and will return an error message
surveys_plot
  + geom_point()

```

###CHALLENGE Q1

##Hexagonal binning with hexbin from CRAN:

```{r}
install.packages("hexbin")
library("hexbin")
```

##Geom_hex fx:

```{r}
surveys_plot +
 geom_hex()
```

###Building plots iteratively

```{r}
ggplot(data = surveys_complete, aes(x = weight, y = hindfoot_length)) +
    geom_point()
```

##Add transparency to avoid overplotting: use alpha

```{r}
ggplot(data = surveys_complete, aes(x = weight, y = hindfoot_length)) +
    geom_point(alpha = 0.1)
```

##Add colors:

```{r}
ggplot(data = surveys_complete, mapping = aes(x = weight, y = hindfoot_length)) +
    geom_point(alpha = 0.1, color = "blue")
```

##Use a vector as an input to the argument color: ex. species_id

```{r}
ggplot(data = surveys_complete, mapping = aes(x = weight, y = hindfoot_length)) +
    geom_point(alpha = 0.1, aes(color = species_id))
```

###CHALLENGE Q2

#Use what you just learned to create a scatter plot of weight over species_id with the plot types showing in different colors. Is this a good way to show this type of data?

#Ans.

```{r}
ggplot(data = surveys_complete, 
       mapping = aes(x = species_id, y = weight)) +
   geom_point(aes(color = plot_type))
```

#This is not the best way to show this type of data, because there is a lot of overlap. 

###Boxplot

#To visualize the distribution of weight in each species:

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = weight)) +
    geom_boxplot()
```

##Add points for better visualization of numbers:

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = weight)) +
    geom_boxplot(alpha = 0) +
    geom_jitter(alpha = 0.3, color = "tomato")
```

##To bring boxplots in front of points change the order of the code:

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = weight)) +
    geom_jitter(alpha = 0.3, color = "tomato")+
  geom_boxplot(alpha = 0) 
```

###CHALLENGE Q3

#Boxplots are useful summaries, but hide the shape of the distribution. For example, if there is a bimodal distribution, it would not be observed with a boxplot. An alternative to the boxplot is the violin plot (sometimes known as a beanplot), where the shape (of the density of points) is drawn.
#*Replace the box plot with a violin plot; see geom_violin().

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = weight)) +
    geom_violin()
```

#In many types of data, it is important to consider the scale of the observations. For example, it may be worth changing the scale of the axis to better distribute the observations in the space of the plot. Changing the scale of the axes is done similarly to adding/modifying other components (i.e., by incrementally adding commands). Try making these modifications:
#*Represent weight on the log10 scale; see scale_y_log10().

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = weight)) +
    geom_violin()+
  scale_y_log10()
```

#So far, weâ€™ve looked at the distribution of weight within species. Try making a new plot to explore the distribution of another variable within each species.
#*Create boxplot for hindfoot_length. Overlay the boxplot layer on a jitter layer to show actual measurements.
#*Add color to the data points on your boxplot according to the plot from which the sample was taken (plot_id).

```{r}
ggplot(data = surveys_complete, mapping = aes(x = species_id, y = hindfoot_length)) +
    geom_boxplot()+
  geom_jitter(alpha = 0.1, aes(color = plot_id))
```


